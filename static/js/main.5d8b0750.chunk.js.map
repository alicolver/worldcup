{"version":3,"sources":["img/logo.svg","utils/Constants.ts","utils/Utils.ts","authentication/Copyright.tsx","authentication/SignUp.tsx","utils/LeaderboardMovement.tsx","league/LeaguePreview.tsx","league/League.tsx","img/qatar.png","misc/Header.tsx","homepage/Homepage.tsx","league/JoinLeague.tsx","league/CreateLeague.tsx","authentication/PasswordReset.tsx","authentication/Redirect.tsx","authentication/SignIn.tsx","standings/standings.tsx","App.js","reportWebVitals.js","serviceWorkerRegistration.ts","index.tsx"],"names":["PROXY","PORT_EXTENSION","window","location","port","HOST_URL","protocol","hostname","isTokenValid","jwt","getJWT","fetch","method","headers","then","res","status","resolveEndpoint","endpoint","parts","document","cookie","split","length","pop","shift","capitalizeFirstLetter","input","charAt","toUpperCase","slice","Copyright","Typography","variant","color","align","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","height","logo","maxHeight","generateSignInLink","params","toString","SignUp","classes","useState","isLoading","setIsLoading","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","isEmailValid","setIsEmailValid","successfulSingUp","setSuccessfulSignup","validToken","setValidToken","search","URLSearchParams","useLocation","submitForm","test","String","toLowerCase","validateEmail","body","JSON","stringify","givenName","familyName","json","result","console","log","alert","useEffect","valid","to","Container","component","maxWidth","CssBaseline","className","src","alt","Grid","container","item","xs","sm","TextField","autoComplete","name","required","fullWidth","id","label","autoFocus","onChange","target","value","type","error","Button","onClick","CircularProgress","render","history","Link","push","Box","mt","getMovement","rank","yesterdayRank","fontSize","table","marginBottom","LeaguePreview","useHistory","leagueData","setLeagueData","open","setOpen","Authorization","ok","data","leagues","TableContainer","Snackbar","onClose","autoHideDuration","Alert","severity","sx","textAlign","Table","size","TableHead","TableRow","TableCell","TableBody","colSpan","LinearProgress","map","index","style","justifyContent","padding","currentRanking","previousRanking","paddingLeft","users","filter","user","leagueId","paddingTop","paddingBottom","leagueName","link","navigator","clipboard","writeText","leagueTopDiv","content","position","top","marginLeft","marginRight","left","boxShadow","borderRadius","heading","leagueItem","flex","verticalAlign","fontWeight","leagueConfig","paddingRight","iconStyle","leagueContainer","button","minWidth","League","headerBar","background","zIndex","Header","logout","reload","AppBar","qatar","right","homepage","createMuiTheme","typography","fontFamily","join","Homepage","Toolbar","useStylesLeague","gradient","first","textDecoration","cursor","inputText","JoinLeaguePage","get","setLeagueName","helperText","CreateLeaguePage","success","setSuccess","isWaiting","setIsWaiting","border","setTimeout","PasswordReset","props","otpIsLoading","setOtpIsLoading","resetPassIsLoading","setResetPassIsLoading","state","otp","setOtp","successfulReset","setSuccessfulReset","catch","confirmationCode","AuthRedirect","expectAuthResult","replace","redirectTo","combinedParams","Object","fromEntries","set","generateRedirectSearchParams","pathname","children","generateHomeLink","redirect","delete","SignIn","signUpLink","handleLogin","token","subHeading","standings","Standings","undefined","sort","a","b","totalPoints","userId","primary","light","dark","contrastText","App","ThemeProvider","path","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","Boolean","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","StrictMode","getElementById","URL","process","href","origin","addEventListener","response","contentType","indexOf","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.5d8b0750.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.2e437646.svg\";","export const PROXY = 'https://mvlag9k698.execute-api.eu-west-2.amazonaws.com/prod/' // PROD!!!\n// export const PROXY = 'https://m8n8luh9ri.execute-api.eu-west-2.amazonaws.com/prod/' // ALI DEV STACK\n// export const PROXY = 'https://7jx7i0t8ul.execute-api.eu-west-2.amazonaws.com/prod/' // LUKE DEV STACK\n// export const PROXY = 'https://vd3ek24g2d.execute-api.eu-west-2.amazonaws.com/prod/' // SIMON DEV STACK\nexport const LAMBDA = 'https://dle6yh5vm2.execute-api.eu-west-2.amazonaws.com/'\nexport const SUCCESS = 'success'\n\nconst PORT_EXTENSION = window.location.port ? `:${window.location.port}` : \"\"\n\nexport const HOST_URL = `${window.location.protocol}//${window.location.hostname}${PORT_EXTENSION}/worldcup#/`\n\nexport const pub = 'BAytDQ8so4h7QqWVGInkAkNvnuuccVmgnvTKex5qszq5QhgH8nYC7ydy1AVuHmDtkZhIrBh8ZRb3F-Qv8BqCUlA'\n","import { PROXY } from './Constants'\nimport jwtDecode from \"jwt-decode\"\n\ninterface IDecodedUser {\n    userid: number\n    isAdmin?: boolean,\n}\n\nexport function isTokenValid(): Promise<boolean> {\n    const jwt = getJWT();\n    return fetch(PROXY + \"auth/check\", {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': jwt\n        }\n    }).then(res => {\n        if (res.status === 200) {\n            return true\n        } \n            return false\n        })\n}\n\nexport function isAdminCheck(): boolean {\n    const jwt = getJWT();\n    try {\n        const decoded = jwtDecode<IDecodedUser>(jwt)\n        if (decoded.isAdmin) {\n            return decoded.isAdmin\n        }\n    } catch { }\n    return false\n}\n\nexport function getUserid(): number {\n    const jwt = getJWT();\n    try {\n        const decoded = jwtDecode<IDecodedUser>(jwt)\n        return decoded.userid\n    } catch { }\n    return 0\n}\n\n\nexport function validateEmail(email: String): boolean {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n}\n\nexport function dateToOrdinal(day: number) {\n    if (day > 3 && day < 21) return 'th';\n    switch (day % 10) {\n        case 1: return \"st\";\n        case 2: return \"nd\";\n        case 3: return \"rd\";\n        default: return \"th\";\n    }\n}\n\nexport function calculateScore(pred_one_goals: string | undefined, pred_two_goals: string | undefined, act_one_goals: number, act_two_goals: number): number {\n    if (pred_one_goals === undefined || pred_two_goals === undefined) {\n        return 0\n    }\n\n    const pred_one = parseInt(pred_one_goals)\n    const pred_two = parseInt(pred_two_goals)\n\n    if (pred_one === act_one_goals && pred_two === act_two_goals) {\n        return 3\n    }\n\n    if (act_one_goals > act_two_goals && pred_one > pred_two) {\n        return 1\n    }\n\n    if (act_one_goals < act_two_goals && pred_one < pred_two) {\n        return 1\n    }\n\n    if (act_one_goals === act_two_goals && pred_one === pred_two) {\n        return 1\n    }\n\n    return 0\n}\n\nexport function gotScoreCorrect(pred_one_goals: string | undefined, pred_two_goals: string | undefined, act_one_goals: number, act_two_goals: number): boolean {\n    if (pred_one_goals === undefined || pred_two_goals === undefined) {\n        return false\n    }\n\n    const pred_one = parseInt(pred_one_goals)\n    const pred_two = parseInt(pred_two_goals)\n\n    return pred_one === act_one_goals && pred_two === act_two_goals\n}\n\nexport function gotResultCorrect(pred_one_goals: string | undefined, pred_two_goals: string | undefined, act_one_goals: number, act_two_goals: number): boolean {\n    if (pred_one_goals === undefined || pred_two_goals === undefined) {\n        return false\n    }\n\n    const pred_one = parseInt(pred_one_goals)\n    const pred_two = parseInt(pred_two_goals)\n\n    return ((act_one_goals > act_two_goals && pred_one > pred_two) || (act_one_goals < act_two_goals && pred_one < pred_two) || (act_one_goals === act_two_goals && pred_one === pred_two))\n}\n\nexport function resolveEndpoint(endpoint: string): string {\n    return PROXY + endpoint\n}\n\nexport function setAuthToken(token: string) {\n    document.cookie = \"authtoken=\" + token;\n}\n\nexport function getJWT(): string {\n    const value = `; ${document.cookie}`;\n    const parts = value.split(`; ${'authtoken'}=`);\n    if (parts.length === 2) {\n        const jwt = parts.pop()!.split(';').shift()\n        return (typeof jwt === 'undefined') ? '' : jwt;\n    }\n    return '';\n}\n\nexport function deleteJWT() {\n    document.cookie = 'authtoken=';\n}\n\nexport const capitalizeFirstLetter = (input: string) => input.charAt(0).toUpperCase() + input.slice(1);","import Typography from '@material-ui/core/Typography';\n\nexport const Copyright = () => {\n    return (\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n        {'Copyright Â© '}\n          Ali Colver, Luke Ely & Simon Archer{' '}\n        {new Date().getFullYear()}\n        {'.'}\n      </Typography>\n    );\n  }","import React, { useEffect, useState } from 'react';\nimport { Redirect, Route, useLocation } from 'react-router-dom'\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport logo from '../img/logo.svg';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { resolveEndpoint, isTokenValid, validateEmail } from '../utils/Utils';\nimport { SUCCESS } from '../utils/Constants';\nimport { Copyright } from './Copyright';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: \"3rem\"\n  },\n  logo: {\n    maxHeight: '10vh'\n  }\n}));\n\nconst generateSignInLink = (params: URLSearchParams) => {\n  return `/?${params.toString()}`\n}\n\nexport default function SignUp() {\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = useState(false)\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setConfirmPassword] = useState('');\n  const [isEmailValid, setIsEmailValid] = useState(true);\n  const [successfulSingUp, setSuccessfulSignup] = useState(false);\n  const [validToken, setValidToken] = useState(false);\n  const search = new URLSearchParams(useLocation().search)\n\n  useEffect(() => {\n    isTokenValid().then(valid => {\n      if (valid) {\n        setValidToken(true)\n      }\n    })\n  }, [setValidToken])\n\n  function submitForm() {\n    setIsLoading(true)\n    if (!validateEmail(email)) {\n      setIsLoading(false)\n      setIsEmailValid(false)\n      return\n    }\n\n    if (password !== confirmPassword) {\n      setIsLoading(false)\n      return\n    }\n\n    fetch(resolveEndpoint('auth/signup'), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password,\n        givenName: firstName,\n        familyName: lastName\n      })\n    })\n      .then(res => res.json())\n      .then(result => {\n        setIsLoading(false)\n        console.log(result)\n        if (result[SUCCESS] === false) {\n          alert('error whilst signing up :(')\n        } else {\n          setSuccessfulSignup(true)\n        }\n      })\n  }\n\n  if (validToken) {\n    return (\n      <Redirect to={'/home'} />\n    )\n  }\n  else if (successfulSingUp) {\n    return (\n      <Redirect to={generateSignInLink(search)} />\n    )\n  } else {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <img className={classes.logo} src={logo} alt={'qatar 2022 logo'} />\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign up\n          </Typography>\n          <div className={classes.form}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  autoComplete=\"fname\"\n                  name=\"firstName\"\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"firstName\"\n                  label=\"First Name\"\n                  autoFocus\n                  onChange={(input) => setFirstName(input.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12} sm={6}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  id=\"lastName\"\n                  label=\"Last Name\"\n                  name=\"lastName\"\n                  autoComplete=\"lname\"\n                  onChange={(input) => setLastName(input.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  type=\"email\"\n                  id=\"email\"\n                  label=\"Email Address\"\n                  name=\"email\"\n                  autoComplete=\"email\"\n                  onChange={(input) => setEmail(input.target.value)}\n                  error={!isEmailValid}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"password\"\n                  label=\"Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  onChange={(input) => setPassword(input.target.value)}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"outlined\"\n                  required\n                  fullWidth\n                  name=\"confirmpassword\"\n                  label=\"Confirm Password\"\n                  type=\"password\"\n                  id=\"password\"\n                  autoComplete=\"current-password\"\n                  onChange={(input) => setConfirmPassword(input.target.value)}\n                  error={password !== confirmPassword}\n                />\n              </Grid>\n            </Grid>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={() => submitForm()}\n            >\n              {isLoading ? <CircularProgress color=\"inherit\" /> : \"Sign Up\"}\n            </Button>\n            <Grid container>\n              <Grid item>\n                <Route render={({ history }: { history: any }) => (\n                  <Link onClick={() => { history.push(generateSignInLink(search)) }} variant=\"body2\">\n                    Already have an account? Sign in\n                  </Link>\n                )} />\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n        <Box mt={8}>\n          <Copyright />\n        </Box>\n      </Container>\n    );\n  }\n}","import KeyboardArrowDownIcon from \"@mui/icons-material/KeyboardArrowDown\";\nimport KeyboardArrowUpIcon from \"@mui/icons-material/KeyboardArrowUp\";\nimport HorizontalRuleIcon from \"@mui/icons-material/HorizontalRule\";\n\nexport const getMovement = (rank: number, yesterdayRank: number) => {\n    if (rank < yesterdayRank) {\n      return <KeyboardArrowUpIcon color=\"success\" fontSize=\"small\" />;\n    }\n    if (rank > yesterdayRank) {\n      return <KeyboardArrowDownIcon color=\"error\" fontSize=\"small\" />;\n    }\n    return <HorizontalRuleIcon color=\"disabled\" fontSize=\"small\" />;\n  };","import {\n  Container,\n  makeStyles,\n  Snackbar,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { useState, useEffect, ReactFragment } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { ILeague } from \"../types/types\";\nimport { getJWT, resolveEndpoint } from \"../utils/Utils\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport { HOST_URL } from \"../utils/Constants\";\nimport { Alert, LinearProgress } from \"@mui/material\";\nimport { getMovement } from \"../utils/LeaderboardMovement\";\n\nconst useStyles = makeStyles({\n  table: {\n    marginBottom: \"2rem\",\n  },\n});\n\nexport default function LeaguePreview() {\n  const classes = useStyles();\n  const history = useHistory();\n  const [leagueData, setLeagueData] = useState<ILeague[]>([]);\n  const [open, setOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(resolveEndpoint(\"user/get-leagues\"), {\n      method: \"POST\",\n      headers: {\n        Authorization: getJWT(),\n      },\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return null;\n        }\n        return res.json();\n      })\n      .then((res) => {\n        setIsLoading(false);\n        if (res !== null) {\n          setLeagueData(res.data.leagues);\n        }\n      });\n  }, [setLeagueData]);\n\n  const handleShareClick = (link: string) => {\n    setOpen(true);\n    navigator.clipboard.writeText(link);\n  };\n\n  function getRows(): ReactFragment {\n    return leagueData.map((data, index) => (\n      <TableRow key={data.leagueId}>\n        <TableCell>\n          <Container\n            style={{\n              display: \"flex\",\n              justifyContent: \"left\",\n              width: \"100%\",\n              textAlign: \"left\",\n              padding: \"0\",\n            }}\n          >\n            {getMovement(data.currentRanking, data.previousRanking)}\n            <div style={{ paddingLeft: \"0.6rem\" }}>\n              {data.users.filter((user) => user.rank === data.currentRanking)\n                .length === 1\n                ? data.currentRanking\n                : \"=\" + data.currentRanking}\n            </div>\n          </Container>\n        </TableCell>\n        <TableCell\n          onClick={() => history.push(\"/standings?leagueId=\" + data.leagueId)}\n          style={{ paddingTop: \"0.7rem\", paddingBottom: \"0.7rem\" }}\n        >\n          {data.leagueName}\n        </TableCell>\n        <TableCell>\n          {data.leagueId === \"global\" ? (\n            \"\"\n          ) : (\n            <ShareIcon\n              onClick={() =>\n                handleShareClick(\n                  `${HOST_URL}league/join?leagueId=${data.leagueId}`\n                )\n              }\n            />\n          )}\n        </TableCell>\n      </TableRow>\n    ));\n  }\n\n  return (\n    <TableContainer className={classes.table}>\n      <Snackbar\n        open={open}\n        onClose={() => setOpen(false)}\n        autoHideDuration={2000}\n      >\n        <Alert\n          onClose={() => setOpen(false)}\n          severity=\"success\"\n          sx={{\n            width: \"300px\",\n            \"& .MuiAlert-message\": { textAlign: \"center\", width: \"inherit\" },\n          }}\n        >\n          League link copied to clipboard!\n        </Alert>\n      </Snackbar>\n      <Table size=\"small\">\n        <TableHead>\n          <TableRow>\n            <TableCell>\n              <b>Rank</b>\n            </TableCell>\n            <TableCell>\n              <b>League</b>\n            </TableCell>\n            <TableCell></TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {isLoading && (\n            <TableRow>\n              <TableCell colSpan={3}>\n                <LinearProgress color=\"inherit\" />\n              </TableCell>\n            </TableRow>\n          )}\n          {!isLoading && getRows()}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n","import {\n  Container,\n  Typography,\n  makeStyles,\n  Button,\n  Grid,\n} from \"@material-ui/core\";\nimport ControlPointIcon from \"@mui/icons-material/ControlPoint\";\nimport SettingsApplicationsIcon from \"@mui/icons-material/SettingsApplications\";\nimport LeaguePreview from \"./LeaguePreview\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles({\n  leagueTopDiv: {\n    content: \"\",\n    position: \"absolute\",\n    top: \"100%\",\n    marginTop: \"1.5rem\",\n    marginLeft: \"2.5%\",\n    marginRight: \"2.5%\",\n    left: \"0\",\n    width: \"95%\",\n    boxShadow: \"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px\",\n    borderRadius: \"2vw\",\n  },\n  heading: {\n    marginTop: \"1.75rem\",\n    paddingTop: \"1rem\",\n    fontSize: \"2rem\",\n    paddingBottom: \"1rem\",\n  },\n  leagueItem: {\n    flex: \"0 0 50%\",\n    marginRight: \"5px\",\n    borderRadius: \"1vw\",\n    verticalAlign: \"top\",\n    fontWeight: \"bold\",\n    margin: \"auto\",\n  },\n  leagueConfig: {\n    display: \"flex\",\n    textAlign: \"center\",\n    width: \"100%\",\n    justifyContent: \"space-around\",\n    marginTop: \"qrem\",\n    paddingLeft: \"0vw\",\n    paddingRight: \"0vw\",\n  },\n  iconStyle: {\n    verticalAlign: \"bottom\",\n  },\n  leagueContainer: {\n    paddingTop: \"1rem\",\n  },\n  button: {\n    borderRadius: \"1rem\",\n    minWidth: \"100%\",\n    boxShadow: \"rgba(0, 0, 0, 0.24) 0px 3px 8px\",\n    fontWeight: \"bold\",\n    backgroundColor: \"rgb(154,12,52)\",\n    color: \"white\",\n  },\n});\n\nexport default function League() {\n  const classes = useStyles();\n  const history = useHistory();\n\n  return (\n    <>\n      <Container>\n        <Typography className={classes.heading}>Leagues</Typography>\n        <Container className={classes.leagueConfig}>\n          <Grid container spacing={2}>\n            <Grid item xs={6}>\n              <Button\n                className={classes.button}\n                onClick={() => history.push(\"/league/create\")}\n              >\n                <SettingsApplicationsIcon className={classes.iconStyle} />\n                <Typography style={{ paddingLeft: \"1rem\" }}>Create</Typography>\n              </Button>\n            </Grid>\n            <Grid item xs={6}>\n              <Button\n                className={classes.button}\n                onClick={() => history.push(\"/league/join\")}\n              >\n                <ControlPointIcon className={classes.iconStyle} />\n                <Typography style={{ paddingLeft: \"0.1rem\" }}>Join</Typography>\n              </Button>\n            </Grid>\n          </Grid>\n        </Container>\n        <Container className={classes.leagueTopDiv}>\n          <Container className={classes.leagueContainer}>\n            <LeaguePreview />\n          </Container>\n        </Container>\n      </Container>\n    </>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/qatar.a111b206.png\";","import { AppBar, Box, makeStyles } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport qatar from \"../img/qatar.png\";\nimport { deleteJWT } from \"../utils/Utils\";\nimport LogoutIcon from \"@mui/icons-material/Logout\";\nimport HomeOutlinedIcon from '@mui/icons-material/HomeOutlined';\n\nconst useStyles = makeStyles({\n  logo: {\n    height: \"40px\",\n    display: \"block\",\n    marginLeft: \"auto\",\n    marginRight: \"auto\",\n  },\n  headerBar: {\n    marginBottom: \"10px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    flexDirection: \"row\",\n    padding: \"0.5rem\",\n    margin: 0,\n    width: \"100%\",\n    background:\n      \"linear-gradient(90deg, rgba(154,12,52,1) 0%, rgba(0,0,0,1) 100%)\",\n    zIndex: 10,\n    boxShadow: \"rgba(0, 0, 0, 0.16) 0px 1px 4px\",\n  },\n});\n\nexport default function Header() {\n  const classes = useStyles()\n  const history = useHistory()\n\n  function logout() {\n    deleteJWT()\n    window.location.reload();\n  }\n\n  return (\n    <Box>\n      <AppBar className={classes.headerBar}>\n      <HomeOutlinedIcon onClick={() => history.push(\"/home\")}\n          sx={{ color: \"#FFFFFF\", position: \"absolute\", left: \"15px\" }}\n        />\n        <img className={classes.logo} src={qatar} alt={\"qatar 2022 logo\"} onClick={() => history.push(\"/home\")}/>\n        <LogoutIcon onClick={() => logout()}\n          sx={{ color: \"#FFFFFF\", position: \"absolute\", right: \"15px\" }}\n        />\n      </AppBar>\n    </Box>\n  );\n}\n","import { Container, createMuiTheme, makeStyles, Toolbar } from '@material-ui/core';\nimport PointsCard from '../leaderboard/PointCard';\nimport League from '../league/League';\nimport Header from '../misc/Header';\n\nconst useStyles = makeStyles({\n  logo: {\n    maxHeight: '15vw'\n  },\n  homepage: {\n    position: 'relative',\n    left: 0,\n    width: '100%'\n  }\n});\n\nexport const fontTheme = createMuiTheme({\n  typography: {\n    fontFamily: [\n      'Source Sans Pro',\n      'sans-serif',\n    ].join(','),\n  },\n});\n\nfunction Homepage() {\n  const classes = useStyles();\n  return (\n    <>\n      <Header />\n      <Toolbar/>\n      <Container className={classes.homepage} maxWidth=\"xs\">\n        {/* <PointsCard /> */}\n        <League />\n      </Container>\n    </>\n  )\n}\n\nexport default Homepage;","import {\n  Button,\n  Container,\n  CssBaseline,\n  makeStyles,\n  TextField,\n  Toolbar,\n  Typography,\n} from \"@material-ui/core\";\nimport { useState } from \"react\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport Header from \"../misc/Header\";\nimport { getJWT, resolveEndpoint } from \"../utils/Utils\";\n\nexport const useStylesLeague = makeStyles({\n  container: {\n    textAlign: \"center\",\n  },\n  gradient: {\n    background:\n      \"linear-gradient(to bottom right, rgba(255, 122, 24, 0.2), rgba(175, 0, 45, 0.2), rgba(49, 145, 151, 0.2))\",\n  },\n  heading: {\n    paddingTop: \"2rem\",\n    fontSize: \"2rem\",\n    paddingBottom: \"1rem\",\n  },\n  first: {\n    fontWeight: \"bold\",\n  },\n  link: {\n    color: \"#A30E36\",\n    textDecoration: \"underline\",\n    cursor: \"pointer\"\n  },\n  inputText: {\n    width: \"100%\",\n    textAlign: \"center\",\n  },\n  button: {\n    top: \"15px\",\n    width: \"100%\",\n    background:\n      \"linear-gradient(90deg, rgba(154,12,52,1) 0%, rgba(0,0,0,1) 100%)\",\n    color: \"white\",\n    fontWeight: \"bold\",\n  },\n})\n\nexport default function JoinLeaguePage() {\n  const classes = useStylesLeague();\n  const history = useHistory();\n  const search = new URLSearchParams(useLocation().search);\n\n  const [leagueName, setLeagueName] = useState({\n    value: search.get(\"leagueId\") || \"\",\n    error: false,\n  });\n\n  const handleLeagueJoin = () => {\n    fetch(resolveEndpoint(\"league/join\"), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: getJWT(),\n      },\n      body: JSON.stringify({\n        leagueId: leagueName.value,\n      }),\n    }).then((res) => {\n      if (res.status === 200) {\n        history.push(\"/home\");\n      } else {\n        setLeagueName({ ...leagueName, error: true });\n      }\n    });\n  };\n\n  return (\n    <Container component=\"main\">\n      <CssBaseline />\n        <Header />\n        <Toolbar />\n        <Container className={classes.container} maxWidth=\"xs\">\n          <Typography className={classes.heading}>Join a League</Typography>\n          <Typography className={classes.first}>\n            Enter the league code provided to you by the league owner.\n          </Typography>\n          <Typography>\n            If you want to create a league you can create one by clicking the\n            link below:\n          </Typography>\n          <Typography\n            className={classes.link}\n            onClick={() => history.push(\"/league/create\")}\n          >\n            Create a League.\n          </Typography>\n          <TextField\n            id=\"outlined-helperText\"\n            label=\"League Id\"\n            helperText=\"Get your friend to send you the league id :)\"\n            className={classes.inputText}\n            value={leagueName.value}\n            error={leagueName.error}\n            onChange={(input) =>\n              setLeagueName({ ...leagueName, value: input.target.value })\n            }\n            color=\"primary\"\n          />\n          <Button\n            className={classes.button}\n            onClick={() => handleLeagueJoin()}\n          >\n            Join League!\n          </Button>\n        </Container>\n    </Container>\n  );\n}\n","import { Container, Typography, Button, Toolbar, TextField, makeStyles } from \"@material-ui/core\"\nimport { useEffect, useState } from \"react\"\nimport { useHistory } from \"react-router-dom\"\nimport Header from \"../misc/Header\"\nimport { IUserTextInput } from \"../types/types\"\nimport { getJWT, resolveEndpoint } from \"../utils/Utils\"\nimport { useStylesLeague } from \"./JoinLeague\"\n\nexport default function CreateLeaguePage() {\n    const classes = useStylesLeague()\n    const history = useHistory()\n    const [leagueName, setLeagueName] = useState<IUserTextInput>({ value: '', error: false })\n    const [success, setSuccess] = useState<boolean>(false)\n    const [isWaiting, setIsWaiting] = useState<boolean>(false)\n\n    useEffect(() => { }, [setSuccess, setIsWaiting])\n\n    const handleLeagueCreate = () => {\n        setIsWaiting(true)\n        fetch(resolveEndpoint('league/create'), {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            \"Authorization\": getJWT()\n          },\n          body: JSON.stringify({\n            leagueName: leagueName.value\n          })\n        }).then(res => {\n            setIsWaiting(false)\n            if (res.status !== 200) {\n                setLeagueName({ ...leagueName, error: true })\n                alert('League Name already in use, try again')\n            } else {\n                history.push(\"/home\")\n                setSuccess(true)\n                setTimeout(function() { setSuccess(false) }, 2000)\n            }\n        })\n    }\n\n    return (\n        <>\n            <Header />\n            <Toolbar/>\n            <Container className={classes.container} maxWidth='xs'>\n                <Typography className={classes.heading}>Create a League</Typography> \n                <Typography className={classes.first}>Enter your league name to create a private league for you and friends.</Typography>\n                <TextField\n                    id=\"outlined-helperText\"\n                    label=\"League Name\"\n                    className={classes.inputText}\n                    onChange={(input) => setLeagueName({ ...leagueName, value: input.target.value })}\n                    error={leagueName.error}\n                    style={\n                        success ? {\n                            boxShadow: '0 0 5px rgba(20, 219, 96, 1)',\n                            border: '1px solid rgba(20, 219, 96, 1)'\n                        } : {}\n                    }\n                />\n                <Button className={classes.button} onClick={() => handleLeagueCreate()}>\n                    {success ? 'SUCCESS' : isWaiting ? 'creating...' : 'Create League!' }\n                </Button>            \n            </Container>\n        </>\n    )\n}","import React, { useEffect, useState } from \"react\";\nimport { Redirect, Route } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport Link from \"@material-ui/core/Link\";\nimport logo from '../img/logo.svg';\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { resolveEndpoint, isTokenValid } from \"../utils/Utils\";\nimport { Copyright } from \"./Copyright\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: \"3rem\",\n  },\n  logo: {\n    maxHeight: '10vh'\n  }\n}));\n\ninterface PasswordResetProps {\n  location?: {\n    state?: {\n      email?: {\n        value: string;\n      };\n    };\n  };\n}\n\nexport default function PasswordReset(props: PasswordResetProps) {\n  const [otpIsLoading, setOtpIsLoading] = useState(false);\n  const [resetPassIsLoading, setResetPassIsLoading] = useState(false);\n  const classes = useStyles();\n  const [email, setEmail] = useState({\n    value: props.location?.state?.email?.value || \"\",\n    error: false,\n  });\n  const [otp, setOtp] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [validToken, setValidToken] = useState(false);\n  const [successfulReset, setSuccessfulReset] = useState(false);\n\n  useEffect(() => {\n    isTokenValid().then((valid) => {\n      if (valid) {\n        setValidToken(true);\n      }\n    });\n  }, [setValidToken]);\n\n  function sendOtp(): void {\n    setOtpIsLoading(true);\n    fetch(resolveEndpoint(\"auth/reset\"), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email: email.value,\n      }),\n    }).then((result) => {\n      setOtpIsLoading(false);\n      if (result.status !== 200) {\n        alert(\"Error creating OTP try again later\");\n      }\n    }).catch(() => {\n      setOtpIsLoading(false);\n      alert(\"Error creating OTP try again later\")\n    })\n  }\n\n  function resetPassword(): void {\n    setResetPassIsLoading(true);\n    if (password !== confirmPassword) {\n      return;\n    }\n\n    fetch(resolveEndpoint(\"auth/confirm\"), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        email: email.value,\n        confirmationCode: otp,\n        password: password,\n      }),\n    }).then((result) => {\n      setResetPassIsLoading(false);\n      if (result.status === 200) {\n        setSuccessfulReset(true);\n      } else {\n        alert(\"Error resetting password\");\n      }\n    });\n  }\n\n  if (validToken) {\n    return <Redirect to={\"/home\"} />;\n  } else if (successfulReset) {\n    return <Redirect to={\"/\"} />;\n  } else {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n        <img className={classes.logo} src={logo} alt={'qatar 2022 logo'} />\n          <Typography component=\"h1\" variant=\"h5\">\n            Reset Password\n          </Typography>\n          <div className={classes.form}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              type=\"email\"\n              name=\"email\"\n              autoComplete=\"email\"\n              value={email.value}\n              autoFocus\n              onChange={(input) =>\n                setEmail({ ...email, value: input.target.value })\n              }\n              error={email.error}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={() => sendOtp()}\n            >\n              {otpIsLoading ? (\n                <CircularProgress style={{ padding: \"5px\" }} color=\"inherit\" />\n              ) : (\n                \"Request verification code\"\n              )}\n            </Button>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Verification Code\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"OTP\"\n              onChange={(input) => setOtp(input.target.value)}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={(input) => setPassword(input.target.value)}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"confirmPassword\"\n              label=\"Confirm Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={(input) => setConfirmPassword(input.target.value)}\n              error={password !== confirmPassword}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n              onClick={() => resetPassword()}\n            >\n              {resetPassIsLoading ? (\n                <CircularProgress style={{ padding: \"5px\" }} color=\"inherit\" />\n              ) : (\n                \"Reset Password\"\n              )}\n            </Button>\n            <Grid container>\n              <Grid item>\n                <Route\n                  render={({ history }: { history: any }) => (\n                    <Link\n                      onClick={() => {\n                        history.push(\"/\");\n                      }}\n                      variant=\"body2\"\n                    >\n                      {\"Remembered your password? Sign in\"}\n                    </Link>\n                  )}\n                />\n              </Grid>\n              <Grid item>\n                <Route\n                  render={({ history }: { history: any }) => (\n                    <Link\n                      onClick={() => {\n                        history.push(\"/signup\");\n                      }}\n                      variant=\"body2\"\n                    >\n                      {\"Don't have an account? Sign Up\"}\n                    </Link>\n                  )}\n                />\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n        <Box mt={8}>\n          <Copyright />\n        </Box>\n      </Container>\n    );\n  }\n}\n","import { useEffect } from \"react\"\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { isTokenValid } from \"../utils/Utils\";\n\ninterface ComponentProps {\n    children?: React.ReactNode\n}\n\ninterface AuthRedirectProps extends ComponentProps {\n    expectAuthResult: boolean\n    redirectTo: string\n}\n\nconst generateRedirectSearchParams = (redirectTo: string) => {\n    const params = new URLSearchParams()\n    params.set(\"redirect\", redirectTo)\n    return params\n}\n\n\nexport const AuthRedirect = (props: AuthRedirectProps) => {\n    const history = useHistory()\n    const search = new URLSearchParams(useLocation().search)\n\n    useEffect(() => {\n        isTokenValid().then(valid => {\n            if (valid === props.expectAuthResult) {\n                if (props.expectAuthResult) {\n                    history.replace(`${props.redirectTo}`)\n                    return\n                }\n\n                const combinedParams = new URLSearchParams({\n                    ...Object.fromEntries(search),\n                    ...Object.fromEntries(generateRedirectSearchParams(history.location.pathname))\n                })\n\n                history.replace(`${props.redirectTo}?${combinedParams.toString()}`)\n            }\n        })\n    })\n\n    return (\n        <div>\n            {props.children}\n        </div>\n    )\n}","import React, { useEffect, useState } from 'react';\nimport { Redirect, Route, useLocation } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Link from '@material-ui/core/Link';\nimport logo from '../img/logo.svg';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { resolveEndpoint, isTokenValid, setAuthToken } from '../utils/Utils';\nimport { Copyright } from './Copyright';\nimport { IUserTextInput } from '../types/types';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n    height: \"3rem\"\n  },\n  logo: {\n    maxHeight: '30vh'\n  }\n}));\n\nconst generateSignUpLink = (params: URLSearchParams) => {\n  return `/signup?${params.toString()}`\n}\n\nconst generateHomeLink = (params: URLSearchParams) => {\n  const redirect = params.get(\"redirect\")\n  params.delete(\"redirect\")\n  return `${redirect || \"/home\"}?${params.toString()}`\n}\n\nexport default function SignIn() {\n  const classes = useStyles();\n  const [isLoading, setIsLoading] = useState(false)\n  const [email, setEmail] = useState<IUserTextInput>({ value: '', error: false });\n  const [password, setPassword] = useState<IUserTextInput>({ value: '', error: false });\n  const [validToken, setValidToken] = useState<boolean>(false);\n  const search = new URLSearchParams(useLocation().search)\n  const signUpLink = generateSignUpLink(search)\n\n  useEffect(() => {\n    isTokenValid().then(valid => {\n      if (valid === true) {\n        setValidToken(true)\n      }\n    })\n  }, [setValidToken])\n\n  const handleLogin = (history: any) => () => {\n    setIsLoading(true)\n    fetch(resolveEndpoint('auth/login'), {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email.value,\n        password: password.value\n      })\n    }).then(res => {\n      setIsLoading(false)\n      if (res.status === 307) {\n        history.push({\n          pathname: '/reset',\n          state: { email: email },\n        })\n        return null\n      }\n\n      if (res.status >= 400) {\n        setPassword({ ...password, error: true });\n        setEmail({ ...email, error: true });\n        return null;\n      }\n      return res.json()\n    })\n      .then(result => {\n        if (result !== null) {\n          setAuthToken(result[\"token\"]);\n          setValidToken(true)\n        }\n      });\n  };\n\n\n  if (validToken) {\n    return (\n      <Redirect to={generateHomeLink(search)} />\n    )\n  } else {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <img className={classes.logo} src={logo} alt={'qatar 2022 logo'} />\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <div className={classes.form}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              type=\"email\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              onChange={(input) => setEmail({ ...email, value: input.target.value })}\n              error={email.error}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              onChange={(input) => setPassword({ ...password, value: input.target.value })}\n              error={password.error}\n            />\n            <Route render={({ history }: { history: any }) => (\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                onClick={handleLogin(history)}\n              >\n                {isLoading ? (\n                  <CircularProgress style={{ padding: \"5px\" }} color=\"inherit\" />\n                ) : (\n                  \"Sign In\"\n                )}\n              </Button>\n            )} />\n            <Grid container>\n              <Grid item>\n                <Route render={({ history }: { history: any }) => (\n                  <Link onClick={() => { history.replace(signUpLink) }} variant=\"body2\">\n                    {\"Don't have an account? Sign Up\"}\n                  </Link>\n                )} />\n              </Grid>\n              <Grid item>\n                <Route render={({ history }: { history: any }) => (\n                  <Link onClick={() => { history.push('/reset') }} variant=\"body2\">\n                    {\"Forgotten your password? Reset it here\"}\n                  </Link>\n                )} />\n              </Grid>\n            </Grid>\n          </div>\n        </div>\n        <Box mt={8}>\n          <Copyright />\n        </Box>\n      </Container>\n    );\n  }\n}","import {\n  Container,\n  createMuiTheme,\n  makeStyles,\n  Table,\n  TableBody,\n  TableHead,\n  TableRow,\n  Toolbar,\n  Typography,\n  TableCell,\n} from \"@material-ui/core\";\nimport { ReactFragment, useEffect, useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport Header from \"../misc/Header\";\nimport { capitalizeFirstLetter, getJWT, resolveEndpoint } from \"../utils/Utils\";\nimport { LinearProgress } from \"@mui/material\";\nimport { getMovement } from \"../utils/LeaderboardMovement\";\n\n\nexport const fontTheme = createMuiTheme({\n  typography: {\n    fontFamily: [\"Source Sans Pro\", \"sans-serif\"].join(\",\"),\n  },\n});\n\ninterface userDataInLeague {\n  familyName: string;\n  userId: string;\n  leagueIds: string[];\n  givenName: string;\n  totalPoints: number;\n  rank: number;\n  previousTotalPoints: number;\n  yesterdayRank: number;\n}\n\ninterface getLeagueData {\n  leagueId: string;\n  leagueName: string;\n  users: userDataInLeague[];\n}\n\nconst useStyles = makeStyles({\n  heading: {\n    marginTop: \"1.75rem\",\n    paddingTop: \"1rem\",\n    fontSize: \"2rem\",\n    paddingBottom: \"1rem\",\n  },\n  subHeading: {\n    fontSize: \"1.5rem\",\n  },\n  standings: {\n    position: \"relative\",\n    left: 0,\n    width: \"100%\",\n  },\n  leagueContainer: {\n    paddingTop: \"1rem\",\n  },\n  leagueTopDiv: {\n    content: \"\",\n    position: \"absolute\",\n    top: \"100%\",\n    marginTop: \"1.5rem\",\n    marginLeft: \"2.5%\",\n    marginRight: \"2.5%\",\n    left: \"0\",\n    width: \"95%\",\n    boxShadow: \"rgba(100, 100, 111, 0.2) 0px 7px 29px 0px\",\n    borderRadius: \"2vw\",\n  },\n  table: {\n    marginBottom: \"2rem\",\n  },\n});\n\nexport const Standings = () => {\n  const classes = useStyles();\n  const [leagueData, setLeagueData] = useState<getLeagueData | undefined>(\n    undefined\n  );\n  const [isLoading, setIsLoading] = useState(false);\n  const search = new URLSearchParams(useLocation().search);\n  const leagueId = search.get(\"leagueId\");\n  const leagueName = leagueData === undefined ? \"\" : leagueData.leagueName;\n\n  useEffect(() => {\n    setIsLoading(true);\n    fetch(resolveEndpoint(\"league/get\"), {\n      method: \"POST\",\n      headers: {\n        Authorization: getJWT(),\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        leagueId: leagueId,\n      }),\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return null;\n        }\n        return res.json();\n      })\n      .then((res) => {\n        setIsLoading(false);\n        if (res !== null) {\n          setLeagueData(res.data);\n        }\n      });\n  }, [leagueId]);\n\n  function getRows(): ReactFragment {\n    if (leagueData === undefined) {\n      return [];\n    }\n    return leagueData.users\n      .sort((a, b) => a.rank - b.rank)\n      .map((user, index) => {\n        return (\n          <TableRow key={user.userId}>\n            <TableCell>\n              <Container\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"left\",\n                  width: \"100%\",\n                  textAlign: \"left\",\n                  padding: \"0\",\n                }}\n              >\n                {getMovement(user.rank, user.yesterdayRank)}\n                <div style={{ paddingLeft: \"0.6rem\" }}>\n                  {index === 0\n                    ? index + 1\n                    : leagueData.users[index - 1].rank === user.rank\n                    ? \"=\"\n                    : index + 1}\n                </div>\n              </Container>\n            </TableCell>\n            <TableCell\n              style={{ paddingTop: \"0.7rem\", paddingBottom: \"0.7rem\" }}\n            >\n              {capitalizeFirstLetter(user.givenName)}{\" \"}\n              {capitalizeFirstLetter(user.familyName)}\n            </TableCell>\n            <TableCell>{user.totalPoints}</TableCell>\n          </TableRow>\n        );\n      });\n  }\n\n  return (\n    <>\n      <Header />\n      <Toolbar />\n      <Container className={classes.standings} maxWidth=\"xs\">\n        <Container>\n          <Typography className={classes.heading}>Standings</Typography>\n          <Typography className={classes.subHeading}>\n            League - {leagueName}\n          </Typography>\n        </Container>\n        <Container className={classes.leagueTopDiv}>\n          <Container className={classes.leagueContainer}>\n            <Container className={classes.table}>\n              <Table size=\"small\">\n                <TableHead>\n                  <TableRow>\n                    <TableCell>\n                      <b>Rank</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>Name</b>\n                    </TableCell>\n                    <TableCell>\n                      <b>Score</b>\n                    </TableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {isLoading && (\n                    <TableRow>\n                      <TableCell colSpan={3}>\n                        <LinearProgress color=\"inherit\" />\n                      </TableCell>\n                    </TableRow>\n                  )}\n                  {!isLoading && getRows()}\n                </TableBody>\n              </Table>\n            </Container>\n          </Container>\n        </Container>\n      </Container>\n    </>\n  );\n};\n","import { HashRouter as Router, Route } from \"react-router-dom\";\nimport SignUp from \"./authentication/SignUp\";\nimport Homepage from \"./homepage/Homepage\";\nimport JoinLeaguePage from \"./league/JoinLeague\";\nimport CreateLeaguePage from \"./league/CreateLeague\";\nimport PasswordReset from \"./authentication/PasswordReset\";\nimport { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport { AuthRedirect } from \"./authentication/Redirect\";\nimport SignIn from \"./authentication/SignIn\";\nimport { Standings } from \"./standings/standings\";\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      light: \"#f5938c\",\n      main: \"#9a0c34\",\n      dark: \"#840033\",\n      contrastText: \"#fff\",\n    },\n    secondary: {\n      light: \"#ff7961\",\n      main: \"#f44336\",\n      dark: \"#ba000d\",\n      contrastText: \"#000\",\n    },\n  },\n  typography: {\n    fontFamily: [\"Source Sans Pro\", \"sans-serif\"].join(\",\"),\n  },\n});\n\nexport default function App() {\n  return (\n    <ThemeProvider theme={theme}>\n      <Router>\n        <Route path=\"/\" exact>\n          <AuthRedirect expectAuthResult={true} redirectTo=\"/home\">\n            <SignIn />\n          </AuthRedirect>\n        </Route>\n        <Route path=\"/signup\" exact component={SignUp} />\n        <Route path=\"/reset\" exact component={PasswordReset} />\n        <Route path=\"/home\" exact>\n          <AuthRedirect expectAuthResult={false} redirectTo=\"/\">\n            <Homepage />\n          </AuthRedirect>\n        </Route>\n        <Route path=\"/league/join\" exact>\n          <AuthRedirect expectAuthResult={false} redirectTo=\"/\">\n            <JoinLeaguePage />\n          </AuthRedirect>\n        </Route>\n        <Route path=\"/league/create\" exact>\n          <AuthRedirect expectAuthResult={false} redirectTo=\"/\">\n            <CreateLeaguePage />\n          </AuthRedirect>\n        </Route>\n        <Route path=\"/standings\" exact>\n          <AuthRedirect expectAuthResult={false} redirectTo=\"/\">\n            <Standings />\n          </AuthRedirect>\n        </Route>\n      </Router>\n    </ThemeProvider>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\nimport { pub } from \"./utils/Constants\";\nimport { getJWT, resolveEndpoint } from \"./utils/Utils\";\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n    onSuccess?: (registration: ServiceWorkerRegistration) => void;\n    onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n        // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener('load', () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        'This web app is being served cache-first by a service ' +\n                        'worker. To learn more, visit https://cra.link/PWA'\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n    navigator.serviceWorker\n        .register(swUrl)\n        .then((registration) => {\n            registration.onupdatefound = () => {\n                const installingWorker = registration.installing;\n                if (installingWorker == null) {\n                    return;\n                }\n                installingWorker.onstatechange = () => {\n                    if (installingWorker.state === 'installed') {\n                        if (navigator.serviceWorker.controller) {\n                            // At this point, the updated precached content has been fetched,\n                            // but the previous service worker will still serve the older\n                            // content until all client tabs are closed.\n                            console.log(\n                                'New content is available and will be used when all ' +\n                                'tabs for this page are closed. See https://cra.link/PWA.'\n                            );\n\n                            // Execute callback\n                            if (config && config.onUpdate) {\n                                config.onUpdate(registration);\n                            }\n                        } else {\n                            // At this point, everything has been precached.\n                            // It's the perfect time to display a\n                            // \"Content is cached for offline use.\" message.\n                            console.log('Content is cached for offline use.');\n\n                            // Execute callback\n                            if (config && config.onSuccess) {\n                                config.onSuccess(registration);\n                            }\n                        }\n                    }\n                };\n            };\n        })\n        .catch((error) => {\n            console.error('Error during service worker registration:', error);\n        });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl, {\n        headers: { 'Service-Worker': 'script' },\n    })\n        .then((response) => {\n            // Ensure service worker exists, and that we really are getting a JS file.\n            const contentType = response.headers.get('content-type');\n            if (\n                response.status === 404 ||\n                (contentType != null && contentType.indexOf('javascript') === -1)\n            ) {\n                // No service worker found. Probably a different app. Reload the page.\n                navigator.serviceWorker.ready.then((registration) => {\n                    registration.unregister().then(() => {\n                        window.location.reload();\n                    });\n                });\n            } else {\n                // Service worker found. Proceed as normal.\n                registerValidSW(swUrl, config);\n            }\n        })\n        .catch(() => {\n            console.log('No internet connection found. App is running in offline mode.');\n        });\n}\n\nexport function registerPushNotifications() {\n    navigator.serviceWorker.ready.then((registration) => {\n        registration.pushManager.subscribe({\n            userVisibleOnly: true,\n            applicationServerKey: pub,\n        }).then(x => {\n            console.log(\"Success from push sub\")\n            console.log(x)\n\n            fetch(resolveEndpoint('notification/subscribe'), {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    'Authenticate': getJWT()\n                },\n                body: JSON.stringify({\n                    subscription: JSON.stringify(x),\n                    blocked: false,\n                })\n            }).then(res => {\n                console.log(res)\n            })\n        })\n    })\n}\n\nexport function updateNotificationDenied() {\n    fetch(resolveEndpoint('notification/subscribe'), {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            'Authenticate': getJWT()\n        },\n        body: JSON.stringify({\n            blocked: true,\n        })\n    })\n}\n\nexport function test() {\n    Notification.requestPermission().then(permission => {\n        if (permission === 'denied') {\n            updateNotificationDenied()\n            return\n        }\n        if (permission === 'default') {\n            return\n        }\n        registerPushNotifications()\n    })\n\n}\n\nexport function unregister() {\n    if ('serviceWorker' in navigator) {\n        navigator.serviceWorker.ready\n            .then((registration) => {\n                registration.unregister();\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorker from './serviceWorkerRegistration'\nimport \"./index.css\"\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\nserviceWorker.register()"],"sourceRoot":""}